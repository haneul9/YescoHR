sap.ui.define(["sap/m/MessageBox","sap/ui/base/Object"],(e,s)=>{"use strict";return s.extend("sap.ui.yesco.controller.ErrorHandler",{constructor:function(e){this._oResourceBundle=e.getModel("i18n").getResourceBundle();this._oComponent=e;this._oModel=e.getModel();this._bMessageOpen=false;this._sErrorText=this._oResourceBundle.getText("errorText");this._oModel.attachMetadataFailed(e=>{const s=e.getParameters();this._showServiceError(s.response)},this);this._oModel.attachRequestFailed(e=>{const s=e.getParameters();if(s.response.statusCode!=="404"||s.response.statusCode===404&&s.response.responseText.indexOf("Cannot POST")===0){this._showServiceError(s.response)}},this)},_showServiceError(s){if(this._bMessageOpen){return}this._bMessageOpen=true;e.error(this._sErrorText,{id:"serviceErrorMessageBox",details:s,styleClass:this._oComponent.getContentDensityClass(),actions:[e.Action.CLOSE],onClose:()=>{this._bMessageOpen=false}})}})});