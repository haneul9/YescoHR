<core:FragmentDefinition xmlns="sap.m"
  xmlns:core="sap.ui.core"
  xmlns:grid="sap.ui.layout.cssgrid">
  <HBox class="contents" justifyContent="SpaceBetween">
    <ScrollContainer height="600px" vertical="true">
      <layoutData>
        <FlexItemData growFactor="0.8" />
      </layoutData>
      <Tree id="CompTree" mode="SingleSelectMaster" items="{path: '/Competency/CompTree'}" selectionChange=".onTreePress">
        <layoutData>
          <FlexItemData growFactor="1" />
        </layoutData>
        <CustomTreeItem>
          <HBox>
            <Image visible="{= ${Otype} === 'Q' }" src="asset/image/icon_cascading_type03.png" />
            <Text text="{Stext}"/>
          </HBox>
        </CustomTreeItem>
      </Tree>
    </ScrollContainer>
    <VBox width="100%">
      <VBox class="vCardBox sapUiMediumMarginBottom">
        <Title level="H4" text="{i18n>LABEL_22003}" />
        <TextArea editable="false" value="{/Competency/Defin}" width="100%" />
      </VBox>
      <VBox class="vCardBox sapUiMediumMarginBottom">
        <Title level="H4" text="{i18n>LABEL_22004}" />
        <VBox>
          <Panel expandable="true" width="auto" class="capability-level">
            <customData>
              <core:CustomData key="type" value="{/Competency/BehaviIndicat/Level}" writeToDom="true" />
            </customData>
            <layoutData>
              <FlexItemData growFactor="1"/>
            </layoutData>
            <headerToolbar>
              <OverflowToolbar height="3rem" style="Clear">
                <grid:CSSGrid gridTemplateColumns="200px repeat({/Competency/BehaviIndicat/Count}, 2fr)" gridGap="8px" items="{/Competency/BehaviIndicat/Headers}">
                  <VBox>
                    <customData>
                      <core:CustomData key="type" value="{type}" writeToDom="true" />
                    </customData>
                    <Label text="{Level}" visible="{= !!${Level} }"/>
                    <Text text="{LevelTxt}" visible="{= !!${LevelTxt} }"/>
                  </VBox>
                </grid:CSSGrid>
              </OverflowToolbar>
            </headerToolbar>
            <content>
              <grid:CSSGrid gridTemplateColumns="200px repeat({/Competency/BehaviIndicat/Count}, 2fr)" gridGap="8px" items="{/Competency/BehaviIndicat/Contents}">
                <VBox items="{Note}">
                  <customData>
                    <core:CustomData key="type" value="{type}" writeToDom="true" />
                  </customData>
                  <Text text="{text}" />
                </VBox>
              </grid:CSSGrid>
            </content>
          </Panel>
        </VBox>
      </VBox>
      <VBox class="vCardBox sapUiMediumMarginBottom">
        <Title level="H4" text="{i18n>LABEL_22005}" />
        <HBox items="{/Competency/RelateJobs/JobTypes}">
          <Button text="{JobName}" press=".onPressJob" />
        </HBox>
      </VBox>
    </VBox>
  </HBox>
</core:FragmentDefinition>