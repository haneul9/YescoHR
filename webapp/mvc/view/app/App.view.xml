<mvc:View controllerName="sap.ui.yesco.mvc.controller.app.App"
  xmlns="sap.m"
  xmlns:custom="sap.ui.yesco.control"
  xmlns:mvc="sap.ui.core.mvc" displayBlock="true">
  <OverflowToolbar id="appMenuToolbar" asyncMode="true" busy="{appModel>/isMenuBusy}" busyIndicatorDelay="0" class="app-menu-toolbar" height="60px" visible="{= !${appModel>/isMobile} }">
    <ImageContent id="logo-image" src="{ path: 'sessionModel>/Werks', formatter: '.getLogoPath' }" description="{sessionModel>/Pbtxt} eHR Home" press=".navToHome" class="home-logo">
      <layoutData>
        <OverflowToolbarLayoutData priority="NeverOverflow" />
      </layoutData>
    </ImageContent>

    <ToolbarSpacer />

    <!-- App Menu Position -->

    <ToolbarSpacer />

    <GenericTile frameType="Auto" width="auto" class="my-info" press=".navToProfile" tooltip="{ path: 'sessionModel>/Pernr', type: 'sap.ui.yesco.mvc.model.type.Pernr' }">
      <TileContent>
        <HBox justifyContent="End" alignItems="Center" height="100%">
          <Text text="{sessionModel>/Ename}" class="name" />
          <Text text="{sessionModel>/Zzjikgbt} / {sessionModel>/Zzjikcht}" />
          <Image src="{sessionModel>/Photo}" mode="Background" class="member-photo" width="26px" />
        </HBox>
      </TileContent>
    </GenericTile>

    <HBox alignItems="Center" class="notification-wrapper">
      <Button id="notification-bell" type="Transparent" class="icon-button notification" press=".onPressNotificationPopoverToggle" tooltip="{i18n>LABEL_01002}" />
      <custom:PressableLabel text="{notificationModel>/unreadCount}" visible="{= !!${notificationModel>/showUnreadCount} }" class="notification-count" press=".onPressNotificationPopoverToggle" displayOnly="true" textAlign="Center" />
    </HBox>

    <Button type="Transparent" visible="{appModel>/isAtHome}" class="icon-button settings" press=".onPressPortletsP13nDialogOpen" tooltip="{i18n>LABEL_01003}">
      <layoutData>
        <OverflowToolbarLayoutData priority="NeverOverflow" />
      </layoutData>
    </Button>

    <Button type="Transparent" class="icon-button logout" press=".onPressLogout" tooltip="{i18n>LABEL_01004}">
      <layoutData>
        <OverflowToolbarLayoutData priority="NeverOverflow" />
      </layoutData>
    </Button>
  </OverflowToolbar>

  <App id="app" class="app-body" autoFocus="false" busy="{appModel>/isAppBusy}" busyIndicatorDelay="0" />

  <OverflowToolbar id="appBottomToolbar" height="60px" asyncMode="true" busy="{appModel>/isMenuBusy}" busyIndicatorDelay="0" class="app-menu-toolbar" visible="{appModel>/isMobile}">
    <HBox width="100%" justifyContent="SpaceAround" class="footer-menu">
      <Button type="Transparent" icon="asset/image/icon_m_employee.svg" class="icon-button" tooltip="{i18n>LABEL_01005}" />
      <HBox alignItems="Center" class="notification-wrapper" tooltip="{i18n>LABEL_01002}">
        <Button id="mobile-notification-bell" type="Transparent" icon="asset/image/icon_m_notice.svg" class="icon-button" press=".onPressNotificationPopoverToggle" />
        <custom:PressableLabel text="{notificationModel>/unreadCount}" visible="{= !!${notificationModel>/showUnreadCount} }" class="notification-count" press=".onPressNotificationPopoverToggle" displayOnly="true" textAlign="Center" />
      </HBox>
      <Button type="Transparent" icon="asset/image/icon_m_home.svg" class="icon-button" press=".navToHome" tooltip="{i18n>LABEL_01006}" />
      <Button type="Transparent" id="search" icon="asset/image/icon_m_search.svg" class="icon-button" press=".onPressMobileSearchPopoverToggle" tooltip="{i18n>LABEL_01007}" />
      <Button type="Transparent" icon="asset/image/icon_m_gnb.svg" class="icon-button" press=".onPressMobileMenuPopoverToggle" tooltip="{i18n>LABEL_01008}" />
    </HBox>
  </OverflowToolbar>
</mvc:View>